{"ast":null,"code":"import _slicedToArray from\"/Users/chris/Desktop/pet_shelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from'@reach/router';var Main=function Main(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],allPets=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),update=_useState4[0],setUpdate=_useState4[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pets\").then(function(res){return allPets(res.data.pets);});},[update]);var removePet=function removePet(_id){axios.delete(\"http://localhost:8000/api/pets/delete/\".concat(_id)).then(function(res){return setUpdate(!update);}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/pets/new\",className:\"nav_bar\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Add New\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"\",children:\"These pets are looking for a good home\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pets?pets.map(function(pet,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:pet.name}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:pet.type}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"/pets/\".concat(pet._id),children:\"Details\"}),\" \\xA0\\xA0\",/*#__PURE__*/_jsx(\"a\",{href:\"/pets/\".concat(pet._id,\"/edit\"),children:\"Edit\"})]})]},i);}):\"\"})]})]});};export default Main;{/* <button className=\"btn btn-danger\" onClick={()=> removePet(pet._id)}></button> */}// onClick={()=> removePet(pet._id)}","map":{"version":3,"sources":["/Users/chris/Desktop/pet_shelter/client/src/views/Main.js"],"names":["React","useEffect","useState","axios","Link","Main","props","pets","allPets","update","setUpdate","get","then","res","data","removePet","_id","delete","catch","err","console","log","map","pet","i","name","type"],"mappings":"sPAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,eAArB,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAAAC,KAAK,CAAI,eACMJ,QAAQ,EADd,wCACXK,IADW,eACLC,OADK,8BAEQN,QAAQ,CAAC,KAAD,CAFhB,yCAEZO,MAFY,eAELC,SAFK,eAGlBT,SAAS,CAAC,UAAM,CACZE,KAAK,CAACQ,GAAN,CAAU,gCAAV,EACKC,IADL,CACU,SAAAC,GAAG,QAAIL,CAAAA,OAAO,CAACK,GAAG,CAACC,IAAJ,CAASP,IAAV,CAAX,EADb,EAEH,CAHQ,CAGP,CAACE,MAAD,CAHO,CAAT,CAKA,GAAMM,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,GAAG,CAAG,CACpBb,KAAK,CAACc,MAAN,iDAAsDD,GAAtD,GACKJ,IADL,CACU,SAAAC,GAAG,QAAGH,CAAAA,SAAS,CAAC,CAACD,MAAF,CAAZ,EADb,EAEKS,KAFL,CAEW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAFd,EAGH,CAJD,CAMA,mBACI,oCACI,kCACA,KAAC,IAAD,EAAM,EAAE,CAAE,WAAV,CAAsB,SAAS,CAAC,SAAhC,uBAA0C,+BAA1C,EADA,EADJ,cAII,WAAI,SAAS,CAAC,EAAd,oDAJJ,cAKI,eAAO,SAAS,CAAC,OAAjB,wBACI,cAAO,SAAS,CAAC,YAAjB,uBACI,mCACI,WAAI,KAAK,CAAC,KAAV,kBADJ,cAEI,WAAI,KAAK,CAAC,KAAV,kBAFJ,cAGI,WAAI,KAAK,CAAC,KAAV,qBAHJ,GADJ,EADJ,cAQI,uBAEQZ,IAAI,CACJA,IAAI,CAACe,GAAL,CAAS,SAACC,GAAD,CAAKC,CAAL,CAAU,CACf,mBAAO,mCACC,WAAI,KAAK,CAAC,KAAV,UAAiBD,GAAG,CAACE,IAArB,EADD,cAEC,WAAI,KAAK,CAAC,KAAV,UAAiBF,GAAG,CAACG,IAArB,EAFD,cAGC,mCAAI,UAAG,IAAI,iBAAYH,GAAG,CAACP,GAAhB,CAAP,qBAAJ,0BACA,UAAG,IAAI,iBAAWO,GAAG,CAACP,GAAf,SAAP,kBADA,GAHD,GAASQ,CAAT,CAAP,CAOH,CARD,CADI,CASC,EAXb,EARJ,GALJ,GADJ,CA+BH,CA7CD,CA+CA,cAAenB,CAAAA,IAAf,CAGA,CAAC,oFAAqF,CACtF","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link } from '@reach/router';\n\nconst Main = props => {\n    const [pets, allPets] = useState();\n    const[update,setUpdate] = useState(false);\n    useEffect(() => {\n        axios.get(\"http://localhost:8000/api/pets\")\n            .then(res => allPets(res.data.pets))\n    },[update])\n\n    const removePet = _id =>{\n        axios.delete(`http://localhost:8000/api/pets/delete/${_id}`)\n            .then(res=> setUpdate(!update))\n            .catch(err => console.log(err))\n    }\n\n    return (\n        <div>\n            <div>\n            <Link to =\"/pets/new\" className=\"nav_bar\"><h4>Add New</h4></Link>\n            </div>\n            <h3 className=\"\">These pets are looking for a good home</h3>\n            <table className=\"table\">\n                <thead className=\"thead-dark\">\n                    <tr>\n                        <th scope=\"col\">Name</th>\n                        <th scope=\"col\">Type</th>\n                        <th scope=\"col\">Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        pets ?\n                        pets.map((pet,i) =>{\n                            return <tr key={i}>\n                                    <th scope=\"row\">{pet.name}</th>\n                                    <th scope=\"row\">{pet.type}</th>\n                                    <td><a href ={`/pets/${pet._id}`}>Details</a> &nbsp;&nbsp;\n                                    <a href={`/pets/${pet._id}/edit`}>Edit</a>\n                                    </td>   \n                            </tr>\n                        }) : \"\"\n                    }\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default Main;\n\n\n{/* <button className=\"btn btn-danger\" onClick={()=> removePet(pet._id)}></button> */}\n// onClick={()=> removePet(pet._id)}"]},"metadata":{},"sourceType":"module"}