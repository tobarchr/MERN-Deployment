{"ast":null,"code":"import _defineProperty from\"/Users/chris/Desktop/pet_shelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/chris/Desktop/pet_shelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/chris/Desktop/pet_shelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Link,navigate}from'@reach/router';import React,{useEffect,useState}from'react';import Form from'../components/Form';import axios from'axios';var UpdatePet=function UpdatePet(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState({name:\"\",type:\"\",description:\"\",skill_1:\"\",skill_2:\"\",skill_3:\"\"}),_useState4=_slicedToArray(_useState3,2),form=_useState4[0],setForm=_useState4[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\".concat(props._id)).then(function(res){return setForm(res.data.pet);});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var onChangeHandler=function onChangeHandler(e){e.preventDefault();setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();axios.put(\"http://localhost:8000/api/pets/update/\".concat(props._id),form).then(function(res){if(res.data.error){setError(res.data.error.errors);}else{navigate(\"/\");}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav_bar\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Back to home\"})}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Edit: \",form.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-dark\"}),/*#__PURE__*/_jsx(Form,{form:form,onChangeHandler:onChangeHandler,error:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-info mb-3\",onClick:onSubmitHandler,children:\"Edit Pet\"})]});};export default UpdatePet;","map":{"version":3,"sources":["/Users/chris/Desktop/pet_shelter/client/src/views/UpdatePet.js"],"names":["Link","navigate","React","useEffect","useState","Form","axios","UpdatePet","props","error","setError","name","type","description","skill_1","skill_2","skill_3","form","setForm","get","_id","then","res","data","pet","onChangeHandler","e","preventDefault","target","value","onSubmitHandler","put","errors"],"mappings":"mjBAAA,OAASA,IAAT,CAAeC,QAAf,KAA+B,eAA/B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAG,eACEJ,QAAQ,CAAC,EAAD,CADV,wCAChBK,KADgB,eACVC,QADU,8BAEEN,QAAQ,CAAC,CAC7BO,IAAI,CAAE,EADuB,CAE7BC,IAAI,CAAE,EAFuB,CAG7BC,WAAW,CAAE,EAHgB,CAI7BC,OAAO,CAAE,EAJoB,CAK7BC,OAAO,CAAE,EALoB,CAM7BC,OAAO,CAAE,EANoB,CAAD,CAFV,yCAEfC,IAFe,eAETC,OAFS,eAWtBf,SAAS,CAAC,UAAI,CACVG,KAAK,CAACa,GAAN,0CAA4CX,KAAK,CAACY,GAAlD,GACKC,IADL,CACU,SAAAC,GAAG,QAAIJ,CAAAA,OAAO,CAACI,GAAG,CAACC,IAAJ,CAASC,GAAV,CAAX,EADb,EAEI;AACP,CAJQ,CAIP,EAJO,CAAT,CAKA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,CAAM,CAC1BA,CAAC,CAACC,cAAF,GACAT,OAAO,gCACAD,IADA,wBAEFS,CAAC,CAACE,MAAF,CAASjB,IAFP,CAEee,CAAC,CAACE,MAAF,CAASC,KAFxB,GAAP,CAIH,CAND,CAOA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACJ,CAAD,CAAM,CAC1BA,CAAC,CAACC,cAAF,GACArB,KAAK,CAACyB,GAAN,iDAAmDvB,KAAK,CAACY,GAAzD,EAA+DH,IAA/D,EACKI,IADL,CACU,SAAAC,GAAG,CAAG,CACR,GAAGA,GAAG,CAACC,IAAJ,CAASd,KAAZ,CAAkB,CACdC,QAAQ,CAACY,GAAG,CAACC,IAAJ,CAASd,KAAT,CAAeuB,MAAhB,CAAR,CACH,CAFD,IAGI,CACA/B,QAAQ,CAAC,GAAD,CAAR,CACH,CACJ,CARL,EASH,CAXD,CAYA,mBACI,oCACI,KAAC,IAAD,EAAM,EAAE,CAAE,GAAV,CAAc,SAAS,CAAC,SAAxB,uBAAkC,oCAAlC,EADJ,cAEI,+BAAWgB,IAAI,CAACN,IAAhB,GAFJ,cAGI,YAAK,SAAS,CAAC,oBAAf,EAHJ,cAII,KAAC,IAAD,EAAM,IAAI,CAAEM,IAAZ,CAAkB,eAAe,CAAEQ,eAAnC,CAAoD,KAAK,CAAEhB,KAA3D,EAJJ,cAKI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,CAAoD,OAAO,CAAEqB,eAA7D,sBALJ,GADJ,CASH,CA5CD,CA8CA,cAAevB,CAAAA,SAAf","sourcesContent":["import { Link, navigate } from '@reach/router';\nimport React, { useEffect, useState } from 'react';\nimport Form from '../components/Form';\nimport axios from 'axios';\n\nconst UpdatePet = props =>{\n    const[error,setError] = useState({});\n    const [form, setForm] = useState({\n        name: \"\",\n        type: \"\",\n        description: \"\",\n        skill_1: \"\",\n        skill_2: \"\",\n        skill_3: \"\"\n    });\n\n    useEffect(()=>{\n        axios.get(`http://localhost:8000/api/pets/${props._id}`)\n            .then(res => setForm(res.data.pet))\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[])\n    const onChangeHandler = (e) =>{\n        e.preventDefault();\n        setForm({\n            ...form,\n            [e.target.name] : e.target.value\n        })\n    }\n    const onSubmitHandler = (e) =>{\n        e.preventDefault();\n        axios.put(`http://localhost:8000/api/pets/update/${props._id}`,form)\n            .then(res =>{\n                if(res.data.error){\n                    setError(res.data.error.errors)\n                }\n                else{\n                    navigate(\"/\")\n                }\n            })\n    }\n    return(\n        <div>\n            <Link to =\"/\" className=\"nav_bar\"><h4>Back to home</h4></Link>\n            <h3>Edit: {form.name}</h3>\n            <div className=\"border border-dark\"></div>\n            <Form form={form} onChangeHandler={onChangeHandler} error={error}/>\n            <button type=\"submit\" className=\"btn btn-info mb-3\" onClick={onSubmitHandler}>Edit Pet</button>\n        </div>\n    )\n}\n\nexport default UpdatePet;"]},"metadata":{},"sourceType":"module"}