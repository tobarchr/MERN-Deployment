{"ast":null,"code":"import _defineProperty from\"/Users/chris/Desktop/pet_shelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/chris/Desktop/pet_shelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/chris/Desktop/pet_shelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Link,navigate}from'@reach/router';import React,{useState}from'react';import Form from'../components/Form';import axios from'axios';var NewPet=function NewPet(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState({name:\"\",type:\"\",description:\"\",skill_1:\"\",skill_2:\"\",skill_3:\"\"}),_useState4=_slicedToArray(_useState3,2),form=_useState4[0],setForm=_useState4[1];var onChangeHandler=function onChangeHandler(e){e.preventDefault();setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();axios.post(\"http://localhost:8000/api/pets/new\",form).then(function(res){if(res.data.error){setError(res.data.error.errors);}else{console.log(\"It was submitted\");navigate(\"/\");}}).catch(function(err){return console.log(\"Something went wrong\");});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav_bar\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Back to Home\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Know a pet needing a home?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-dark \",children:[/*#__PURE__*/_jsx(Form,{form:form,onChangeHandler:onChangeHandler,error:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-info mb-3\",onClick:onSubmitHandler,children:\"Add Pet\"})]})]});};export default NewPet;","map":{"version":3,"sources":["/Users/chris/Desktop/pet_shelter/client/src/views/NewPet.js"],"names":["Link","navigate","React","useState","Form","axios","NewPet","props","error","setError","name","type","description","skill_1","skill_2","skill_3","form","setForm","onChangeHandler","e","preventDefault","target","value","onSubmitHandler","post","then","res","data","errors","console","log","catch","err"],"mappings":"mjBAAA,OAASA,IAAT,CAAeC,QAAf,KAA+B,eAA/B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,CAAI,eACIJ,QAAQ,CAAC,EAAD,CADZ,wCACdK,KADc,eACRC,QADQ,8BAEIN,QAAQ,CAAC,CAC7BO,IAAI,CAAE,EADuB,CAE7BC,IAAI,CAAE,EAFuB,CAG7BC,WAAW,CAAE,EAHgB,CAI7BC,OAAO,CAAE,EAJoB,CAK7BC,OAAO,CAAE,EALoB,CAM7BC,OAAO,CAAE,EANoB,CAAD,CAFZ,yCAEbC,IAFa,eAEPC,OAFO,eAWpB,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,CAAM,CAC1BA,CAAC,CAACC,cAAF,GACAH,OAAO,gCACAD,IADA,wBAEFG,CAAC,CAACE,MAAF,CAASX,IAFP,CAEeS,CAAC,CAACE,MAAF,CAASC,KAFxB,GAAP,CAIH,CAND,CAQA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACJ,CAAD,CAAM,CAC1BA,CAAC,CAACC,cAAF,GACAf,KAAK,CAACmB,IAAN,CAAW,oCAAX,CAAgDR,IAAhD,EACKS,IADL,CACU,SAAAC,GAAG,CAAG,CACR,GAAGA,GAAG,CAACC,IAAJ,CAASnB,KAAZ,CAAkB,CACdC,QAAQ,CAACiB,GAAG,CAACC,IAAJ,CAASnB,KAAT,CAAeoB,MAAhB,CAAR,CACH,CAFD,IAGI,CAAEC,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACN7B,QAAQ,CAAC,GAAD,CAAR,CAAe,CAClB,CAPL,EAQK8B,KARL,CAQY,SAAAC,GAAG,QAAIH,CAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAJ,EARf,EASH,CAXD,CAYA,mBACI,oCACI,KAAC,IAAD,EAAM,EAAE,CAAE,GAAV,CAAc,SAAS,CAAC,SAAxB,uBAAkC,oCAAlC,EADJ,cAEI,kDAFJ,cAGI,aAAK,SAAS,CAAC,qBAAf,wBACI,KAAC,IAAD,EAAM,IAAI,CAAEd,IAAZ,CAAkB,eAAe,CAAEE,eAAnC,CAAoD,KAAK,CAAEV,KAA3D,EADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,CAAoD,OAAO,CAAEe,eAA7D,qBAFJ,GAHJ,GADJ,CAUH,CAzCD,CA2CA,cAAejB,CAAAA,MAAf","sourcesContent":["import { Link, navigate } from '@reach/router';\nimport React, { useState } from 'react';\nimport Form from '../components/Form';\nimport axios from 'axios';\n\nconst NewPet = props => {\n    const[error,setError] = useState({});\n    const [form, setForm] = useState({\n        name: \"\",\n        type: \"\",\n        description: \"\",\n        skill_1: \"\",\n        skill_2: \"\",\n        skill_3: \"\"\n    })\n\n    const onChangeHandler = (e) =>{\n        e.preventDefault();\n        setForm({\n            ...form,\n            [e.target.name] : e.target.value\n        })\n    }\n\n    const onSubmitHandler = (e) =>{\n        e.preventDefault();\n        axios.post(\"http://localhost:8000/api/pets/new\",form)\n            .then(res =>{\n                if(res.data.error){\n                    setError(res.data.error.errors)\n                }\n                else{ console.log(\"It was submitted\");\n                navigate(\"/\");}\n            })\n            .catch( err => console.log(\"Something went wrong\"));\n    }\n    return(\n        <div>\n            <Link to =\"/\" className=\"nav_bar\"><h4>Back to Home</h4></Link>\n            <h3>Know a pet needing a home?</h3>\n            <div className=\"border border-dark \">\n                <Form form={form} onChangeHandler={onChangeHandler} error={error}/>\n                <button type=\"submit\" className=\"btn btn-info mb-3\" onClick={onSubmitHandler}>Add Pet</button>\n            </div>\n        </div>\n    )\n}\n\nexport default NewPet;"]},"metadata":{},"sourceType":"module"}